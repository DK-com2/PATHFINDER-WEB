<svg viewBox="0 0 650 400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font: bold 16px sans-serif; fill: #1f2937; }
      .component { font: 14px sans-serif; fill: #374151; }
      .small-text { font: 11px sans-serif; fill: #6b7280; }
      .frontend-box { fill: #dbeafe; stroke: #3b82f6; stroke-width: 2; }
      .backend-box { fill: #ecfdf5; stroke: #10b981; stroke-width: 2; }
      .oracle-box { fill: #fff7ed; stroke: #ea580c; stroke-width: 2; }
      .supabase-box { fill: #f3e8ff; stroke: #8b5cf6; stroke-width: 2; }
      .container-box { fill: #f9fafb; stroke: #6b7280; stroke-width: 2; stroke-dasharray: 5,5; }
    </style>
  </defs>

  <!-- フロントエンド パーツ -->
  <g id="frontend">
    <rect x="50" y="50" width="180" height="70" class="frontend-box" rx="8"/>
    <text x="140" y="75" class="title" text-anchor="middle">フロントエンド</text>
    <text x="140" y="95" class="component" text-anchor="middle">Deck.gl + JavaScript</text>
    <text x="140" y="110" class="small-text" text-anchor="middle">地図表示・アップロード</text>
  </g>

  <!-- バックエンド パーツ -->
  <g id="backend">
    <rect x="270" y="50" width="180" height="70" class="backend-box" rx="8"/>
    <text x="360" y="75" class="title" text-anchor="middle">バックエンド</text>
    <text x="360" y="95" class="component" text-anchor="middle">FastAPI</text>
    <text x="360" y="110" class="small-text" text-anchor="middle">API・認証・データ処理</text>
  </g>

  <!-- Oracle Cloud VPS #1 (コンテナ) -->
  <g id="vps1-container">
    <rect x="30" y="170" width="440" height="100" class="oracle-box" rx="8"/>
    <text x="250" y="195" class="title" text-anchor="middle">Oracle Cloud VPS #1 - アプリケーションサーバー</text>
    
    <!-- Docker コンテナ枠 -->
    <rect x="50" y="205" width="400" height="50" class="container-box" rx="6"/>
    <text x="60" y="225" class="small-text">Docker Container:</text>
    <text x="180" y="225" class="component">FastAPI + Static Files</text>
    <text x="60" y="240" class="small-text">フロントエンド配信 + バックエンドAPI</text>
  </g>

  <!-- Oracle Cloud VPS #2 -->
  <g id="vps2">
    <rect x="500" y="170" width="120" height="100" class="oracle-box" rx="8"/>
    <text x="560" y="195" class="title" text-anchor="middle">VPS #2</text>
    <text x="560" y="215" class="component" text-anchor="middle">PostgreSQL</text>
    <text x="560" y="235" class="small-text" text-anchor="middle">データベース</text>
    <text x="560" y="250" class="small-text" text-anchor="middle">Timelineデータ</text>
  </g>

  <!-- Supabase -->
  <g id="supabase">
    <rect x="200" y="300" width="180" height="70" class="supabase-box" rx="8"/>
    <text x="290" y="325" class="title" text-anchor="middle">Supabase</text>
    <text x="290" y="345" class="component" text-anchor="middle">認証システム</text>
    <text x="290" y="360" class="small-text" text-anchor="middle">JWT・ユーザー管理</text>
  </g>

  <!-- 接続線 -->
  <!-- フロントエンド・バックエンドからVPS1コンテナへ -->
  <line x1="140" y1="120" x2="140" y2="170" stroke="#6b7280" stroke-width="2"/>
  <line x1="360" y1="120" x2="360" y2="170" stroke="#6b7280" stroke-width="2"/>
  
  <!-- VPS1からVPS2（データベース接続） -->
  <line x1="470" y1="220" x2="500" y2="220" stroke="#6b7280" stroke-width="3"/>
  
  <!-- VPS1からSupabase（認証接続） -->
  <line x1="290" y1="270" x2="290" y2="300" stroke="#6b7280" stroke-width="2"/>
  <text x="310" y="285" class="small-text">認証API</text>
</svg>